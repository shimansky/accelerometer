<!DOCTYPE html>
<html>
<head>
	<title>js-axelerometr</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

	<!-- <a href="init.php">go!</a> -->
	<!-- <button onclick="goToPHP()">go!</button>
<script type="text/javascript">
	function goToPHP(){
		window.location.href = "init.php";
	}
</script> -->
<div id="pic" style="width: 100px; height: 100px; color: white; font-size: 15px; font-weight: 600; border-radius: 2px; margin: 0 auto; background-color: #00ffea; display: flex; align-items: center; justify-content: center; margin-top: 50px; box-shadow: 0px 19px 20px 12px rgba(34, 60, 80, 0.2);">axelerometr</div>

<div style="display: flex; align-items: center; justify-content: center; flex-direction: column; padding-top: 200px; color: #00ffea; font-size: 20px; font-weight: 600; line-height: 2.3">
	<div id="orientationx">orientation-x</div>
	<div id="orientationy">orientation-y</div>
	<div id="orientationz">orientation-z</div>
	<button onclick='requestOrientationPermission();' style="margin-top: 50px; background-color: transparent; color: #00ffea; border: 1px solid #00ffea; padding: 10px; border-radius: 2px; cursor: pointer;">apple-></button>


</div>

<script type="text/javascript">
	function requestOrientationPermission(){
        DeviceOrientationEvent.requestPermission()
        .then(response => {
            if (response == 'granted') {
                window.addEventListener('deviceorientation', (e) => {
                    // do something with e
                })
            }
        })
        .catch(console.error)
    }

    pic = document.getElementById("pic");
	orientationx = document.getElementById("orientationx");
	orientationy = document.getElementById("orientationy");
	orientationz = document.getElementById("orientationz");
	window.addEventListener('deviceorientation', function(event) {
	  orientationx.innerHTML= "orientation-x: " + Math.round(event.beta);
	  orientationy.innerHTML= "orientation-y: " + Math.round(event.gamma);
	  orientationz.innerHTML= "orientation-z: " + Math.round(event.alpha);

	  pic.style.transform = 'rotate3d(1, 0, 0,' + Math.round(event.beta) + 'deg) rotate3d(0, 1, 0,' + Math.round(event.gamma) + 'deg)';
	} ); 	  
</script>
</body>
</html>